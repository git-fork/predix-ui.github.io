'use strict';(function(){Polymer({is:'px-tile-action-buttons',properties:{hoverTextColor:{type:String,value:''},overlay:{type:Boolean,value:!1},primary:{type:Boolean,value:!1},actionButtons:{type:Object,value:{},observer:'_actionButtonsChanged'}},attached:function(){this.listen(this,'px-dropdown-selection-changed','_itemSelected')},detached:function(){this.unlisten(this,'px-dropdown-selection-changed','_itemSelected')},_actionButtonsChanged:function(){this._notifyActionChange=!1;var a=JSON.parse(JSON.stringify(this.actionButtons)),b=a.maxButtons||3,c=a.maxPrimaryButtons||1,d=[],e=[];for(var f in a.items)a.items[f].isPrimary&&(d.length<c?d.push(a.items[f]):delete a.items[f].isPrimary),a.items[f].isPrimary||e.push(a.items[f]);this._isDisplayDropdown=!1,this.primary?a.items=d:(a.items=e,this._isDisplayDropdown=a.items.length>b),this._isDisplayButtons=!1,this._isDisplayDropdown?this._setupDropdownButtons(a):(this._items=a.items,this._isDisplayButtons=!0),this._notifyActionChange=!0},_setupDropdownButtons:function(a){this.async(function(){var b=this.$$('#pxDropdown');for(var c in b.style.height='20px',a.items){var d=a.items[c];d.key=d.id||d.key,d.val=d.label||d.val,delete d.id,delete d.label,a.multi||delete d.selected}for(var e in a.sortMode&&'label'===a.sortMode?a.sortMode='val':'val'!==a.sortMode&&(a.sortMode='key'),a.selectBy&&'label'===a.selectBy?a.selectBy='val':'val'!==a.selectBy&&(a.selectBy='key'),a)b.set(e,a[e]);this._items=a.items,this.async(function(){var a=Polymer.dom(b.root).querySelector('#dropdown');a.set('horizontalAlign','right');var c=Polymer.dom(b.root).querySelector('#button');this.button=c,this.pxIcon=Polymer.dom(c).querySelector('px-icon'),this.pxIcon&&(this.pxIcon.style.right='-6px',this.overlay&&(this.pxIcon.style.color=this.hoverTextColor))})},100)},_onSelected:function(a){var b=a.detail.model||a.model.item;this._handleSelection({label:b.label,id:b.id})},_itemSelected:function(a){var b=this.$$('#pxDropdown');(this.actionButtons.multi||b._displayValueSelected===a.detail.val)&&this._handleSelection({label:a.detail.val,id:a.detail.key})},_handleSelection:function(a){this._notifyActionChange&&this.fire('px-tile-action-tapped',a)},_getBtnClazz:function(a){var b=this._getBtnSize(a.size);return b=this._getBtnType(a.type,b),!0===a.buttonIcon&&b.push('btn--icon'),!0===a.disabled&&b.push('btn--disabled'),(this.primary&&!a.isPrimary||!this.primary&&a.isPrimary)&&b.push('hidden'),b.join(' ').trim()},_getBtnType:function(a,b){if(b=b||[],a)switch(a.trim()){case'primary':b.push('btn--primary');break;case'call to action':b.push('btn--call-to-action');break;case'tertiary':b.push('btn--tertiary');break;case'bare':b.push('btn--bare'),this.overlay&&b.push('btn-overlay');break;case'bare primary':b.push('btn--bare--primary'),this.overlay?b.push('btn-overlay'):b.push('btn-tile-bare-primary');}return b},_getBtnSize:function(a,b){if(b=b||[],a)switch(a.trim()){case'small':b.push('btn--small');break;case'large':b.push('btn--large');break;case'huge':b.push('btn--huge');break;case'full':b.push('btn--full');}return b},_getBtnColor:function(a){var b='';return a.color&&(b='color: '+a.color+'; stroke: '+a.color+'; '),b}})})();