<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../px-icon-set/px-icon-set.html"><link rel="import" href="../px-icon-set/px-icon.html"><link rel="import" href="../iron-collapse/iron-collapse.html"><link rel="import" href="px-tree-behavior.html"><link rel="import" href="css/px-tree-styles.html"></head><body><dom-module id="px-tree-node"><template><style include="px-tree-styles"></style><template is="dom-if" if="[[canOpen]]"><li class$="tree__branch [[_getClass(isActive, isSelected, item, assetGraph)]]"><px-icon class="chevron" icon="[[_getIcon(isActive)]]"></px-icon><template is="dom-if" if="[[icon]]"><px-icon class="icon" icon="[[icon]]"></px-icon></template><span>[[label]]</span></li><iron-collapse id="collapse" opened$="[[isActive]]"><div class="collapse-content"><template is="dom-repeat" items="[[items]]" as="subitem"><px-tree-node label="[[_getItemProp(subitem, keys.label)]]" items="[[_getChildren(subitem, assetGraph, childrenUpdated)]]" item="[[subitem]]" keys="[[keys]]" active="[[active]]" active-meta="[[activeMeta]]" selected="[[selected]]" is-active="[[_isItemActive(active, activeMeta, subitem, multiActivate, active.*)]]" is-selected="[[_isItemSelected(selected, subitem, multiSelect, selected.*)]]" can-open="[[_hasChildren(subitem, assetGraph, childrenUpdated)]]" disable-branch-select="[[disableBranchSelect]]" multi-select="[[multiSelect]]" multi-activate="[[multiActivate]]" icon="[[_getItemProp(subitem, keys.icon)]]" asset-graph="[[assetGraph]]" children-updated="[[childrenUpdated]]"></px-tree-node></template></div></iron-collapse></template><template is="dom-if" if="[[!canOpen]]"><li class$="tree__leaf [[_getClass(isActive, isSelected, item, assetGraph)]]"><template is="dom-if" if="[[icon]]"><px-icon class="icon" icon="[[icon]]"></px-icon></template><span>[[label]]</span></li></template></template></dom-module><script>Polymer({is:'px-tree-node',behaviors:[PxTreeBehavior],listeners:{tap:'_handleTap'},properties:{label:{type:String,value:''},canOpen:{type:Boolean,value:!1},item:{type:Object,value:function(){return{}}},items:{type:Array,value:function(){return[]}},isActive:{type:Boolean,value:!1},isSelected:{type:Boolean,value:!1},keys:{type:Object,value:function(){return{}}},multiSelect:{type:Boolean,value:!1},multiActivate:{type:Boolean,value:!1},icon:{type:String,value:''},childrenUpdated:{type:Boolean,value:null}},_getIcon:function(a){return a?'px-utl:chevron':'px-utl:chevron-right'},_getClass:function(a,b,c,d){if(void 0!==a&&void 0!==b&&void 0!==c&&void 0!==d){var e=[];return a&&e.push('active'),b&&e.push('selected'),d.isSelectable(c)||e.push('disabled'),e.join(' ')}},_handleTap:function(a){a.stopPropagation();var b=Polymer.dom(a).path,c=Polymer.dom(a).event.detail.sourceEvent.shiftKey,d=Polymer.dom(a).event.detail.sourceEvent.ctrlKey||Polymer.dom(a).event.detail.sourceEvent.metaKey,e='PX-ICON'===b[0].nodeName;this.fire('px-tree-node-tapped',{shift:c,ctrl:d,item:this.item,isBranch:this.canOpen,isActive:this.isActive,isSelected:this.isSelected,isIcon:e},{cancelable:!0})}});</script></body></html>