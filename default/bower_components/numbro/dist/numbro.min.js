(function(){"use strict";function p(b){this._value=b}function W(d){var a,e="";for(a=0;d>a;a++)e+="0";return e}function t(b,a){var l,d,m,f,n,h,i,j;return j=b.toString(),l=j.split("e")[0],f=j.split("e")[1],d=l.split(".")[0],m=l.split(".")[1]||"",0<+f?j=d+m+W(f-m.length):(n=0>+d?"-0":"0",0<a&&(n+="."),i=W(-1*f-1),h=(i+X(d)+m).substr(0,a),j=n+h),0<+f&&0<a&&(j+="."+W(a)),j}function b(c,a,b,i){var e,f,j=s(10,a);return-1<c.toString().indexOf("e")?(f=t(c,a),"-"===f.charAt(0)&&0<=+f&&(f=f.substr(1))):f=(b(c+"e+"+a)/j).toFixed(a),i&&(e=new RegExp("0{1,"+i+"}$"),f=f.replace(e,"")),f}function c(i,a,b){var c,d=a.replace(/\{[^\{\}]*\}/g,"");return c=-1<d.indexOf("$")?f(i,x[y].currency.symbol,a,b):-1<d.indexOf("%")?g(i,a,b):-1<d.indexOf(":")?h(i,a):G(i._value,a,b)}function d(k,l){var b,c,d,e,m,g=l,h=!1;if(-1<l.indexOf(":"))k._value=F(l);else if(l===A)k._value=0;else{for("."!==x[y].delimiters.decimal&&(l=l.replace(/\./g,"").replace(x[y].delimiters.decimal,".")),b=new RegExp("[^a-zA-Z]"+x[y].abbreviations.thousand+"(?:\\)|(\\"+x[y].currency.symbol+")?(?:\\))?)?$"),c=new RegExp("[^a-zA-Z]"+x[y].abbreviations.million+"(?:\\)|(\\"+x[y].currency.symbol+")?(?:\\))?)?$"),d=new RegExp("[^a-zA-Z]"+x[y].abbreviations.billion+"(?:\\)|(\\"+x[y].currency.symbol+")?(?:\\))?)?$"),e=new RegExp("[^a-zA-Z]"+x[y].abbreviations.trillion+"(?:\\)|(\\"+x[y].currency.symbol+")?(?:\\))?)?$"),m=1;m<a.length&&!h;++m)-1<l.indexOf(a[m])?h=s(1024,m):-1<l.indexOf(H[m])&&(h=s(1e3,m));var n=l.replace(/[^0-9\.]+/g,"");""===n?k._value=NaN:(k._value=(h?h:1)*(g.match(b)?1000:1)*(g.match(c)?1000000:1)*(g.match(d)?1000000000:1)*(g.match(e)?1000000000000:1)*(-1<l.indexOf("%")?.01:1)*((l.split("-").length+r(l.split("(").length-1,l.split(")").length-1))%2?1:-1)*+n,k._value=h?Math.ceil(k._value):k._value)}return k._value}function f(m,a,b,c){var d,e,f=b,o=f.indexOf("$"),h=f.indexOf("("),i=f.indexOf("+"),j=f.indexOf("-"),k="",l="";if(-1===f.indexOf("$")?"infix"===x[y].currency.position?(l=a,x[y].currency.spaceSeparated&&(l=" "+l+" ")):x[y].currency.spaceSeparated&&(k=" "):-1<f.indexOf(" $")?(k=" ",f=f.replace(" $","")):-1<f.indexOf("$ ")?(k=" ",f=f.replace("$ ","")):f=f.replace("$",""),e=G(m._value,f,c,l),-1===b.indexOf("$"))switch(x[y].currency.position){case"postfix":-1<e.indexOf(")")?(e=e.split(""),e.splice(-1,0,k+a),e=e.join("")):e=e+k+a;break;case"infix":break;case"prefix":-1<e.indexOf("(")||-1<e.indexOf("-")?(e=e.split(""),d=Math.max(h,j)+1,e.splice(d,0,a+k),e=e.join("")):e=a+k+e;break;default:throw Error("Currency position should be among [\"prefix\", \"infix\", \"postfix\"]");}else 1>=o?-1<e.indexOf("(")||-1<e.indexOf("+")||-1<e.indexOf("-")?(e=e.split(""),d=1,(h>o||i>o||j>o)&&(d=0),e.splice(d,0,a+k),e=e.join("")):e=a+k+e:-1<e.indexOf(")")?(e=e.split(""),e.splice(-1,0,k+a),e=e.join("")):e=e+k+a;return e}function e(e,a,b,c){return f(e,a,b,c)}function g(g,a,b){var c,d="",e=100*g._value;return-1<a.indexOf(" %")?(d=" ",a=a.replace(" %","")):a=a.replace("%",""),c=G(e,a,b),-1<c.indexOf(")")?(c=c.split(""),c.splice(-1,0,d+"%"),c=c.join("")):c=c+d+"%",c}function h(e){var a=q(e._value/60/60),b=q((e._value-60*(60*a))/60),c=o(e._value-60*(60*a)-60*b);return a+":"+(10>b?"0"+b:b)+":"+(10>c?"0"+c:c)}function F(d){var a=d.split(":"),b=0;return 3===a.length?(b+=60*(60*+a[0]),b+=60*+a[1],b+=+a[2]):2===a.length&&(b+=60*+a[0],b+=+a[1]),+b}function i(i,j,b){var c,d,e,f=j[0],k=X(i);if(k>=b){for(c=1;c<j.length;++c)if(d=s(b,c),e=s(b,c+1),k>=d&&e>k){f=j[c],i/=d;break}f===j[0]&&(i/=s(b,j.length-1),f=j[j.length-1])}return{value:i,suffix:f}}function G(d,a,c,e){var l,g,h,B,j,k,Y,n,o,p,Z,$,_,t,u,v,w,z=Math.LN10,aa=Math.log,ba=!1,ca=!1,D=!1,E="",F=!1,G=!1,H=!1,I=!1,J=!1,da="",L="",ea=X(d),N="",O=!1,P=!1,fa="";if(0===d&&null!==A)return A;if(!isFinite(d))return""+d;if(0===a.indexOf("{")){var R=a.indexOf("}");if(-1===R)throw Error("Format should also contain a \"}\"");p=a.slice(1,R),a=a.slice(R+1)}else p="";if(a.indexOf("}")===a.length-1){var S=a.indexOf("{");if(-1===S)throw Error("Format should also contain a \"{\"");Z=a.slice(S+1,-1),a=a.slice(0,S+1)}else Z="";var T;for(T=-1===a.indexOf(".")?a.match(/([0-9]+).*/):a.match(/([0-9]+)\..*/),v=null===T?-1:T[1].length,-1!==a.indexOf("-")&&(O=!0),-1<a.indexOf("(")?(ba=!0,a=a.slice(1,-1)):-1<a.indexOf("+")&&(ca=!0,a=a.replace(/\+/g,"")),-1<a.indexOf("a")&&(n=a.split(".")[0].match(/[0-9]+/g)||["0"],n=parseInt(n[0],10),F=0<=a.indexOf("aK"),G=0<=a.indexOf("aM"),H=0<=a.indexOf("aB"),I=0<=a.indexOf("aT"),J=F||G||H||I,-1<a.indexOf(" a")?(E=" ",a=a.replace(" a","")):a=a.replace("a",""),h=q(aa(ea)/z)+1,j=h%3,j=0===j?3:j,n&&0!==ea&&(B=q(aa(ea)/z)+1-n,k=3*~~((r(n,h)-j)/3),ea/=s(10,k),-1===a.indexOf(".")&&3<n&&(a+="[.]",t=0===B?0:3*~~(B/3)-B,t=0>t?t+3:t,a+=W(t))),q(aa(X(d))/z)+1!==n&&(1000000000000<=ea&&!J||I?(E+=x[y].abbreviations.trillion,d/=1000000000000):1000000000000>ea&&1000000000<=ea&&!J||H?(E+=x[y].abbreviations.billion,d/=1000000000):1000000000>ea&&1000000<=ea&&!J||G?(E+=x[y].abbreviations.million,d/=1000000):(1000000>ea&&1000<=ea&&!J||F)&&(E+=x[y].abbreviations.thousand,d/=1000))),w=0;w<M.length;++w)if(l=M[w],-1<a.indexOf(l.marker)){-1<a.indexOf(" "+l.marker)&&(da=" "),a=a.replace(da+l.marker,""),g=i(d,l.suffixes,l.scale),d=g.value,da+=g.suffix;break}if(-1<a.indexOf("o")&&(-1<a.indexOf(" o")?(L=" ",a=a.replace(" o","")):a=a.replace("o",""),x[y].ordinal&&(L+=x[y].ordinal(d))),-1<a.indexOf("[.]")&&(D=!0,a=a.replace("[.]",".")),Y=d.toString().split(".")[0],o=a.split(".")[1],$=a.indexOf(","),o){if(-1===o.indexOf("*")?-1<o.indexOf("[")?(o=o.replace("]",""),o=o.split("["),N=b(d,o[0].length+o[1].length,c,o[1].length)):N=b(d,o.length,c):N=b(d,d.toString().split(".")[1].length,c),Y=N.split(".")[0],N.split(".")[1].length){var U=e?E+e:x[y].delimiters.decimal;N=U+N.split(".")[1]}else N="";D&&0===+N.slice(1)&&(N="")}else Y=b(d,0,c);return-1<Y.indexOf("-")&&(Y=Y.slice(1),P=!0),Y.length<v&&(Y=W(v-Y.length)+Y),-1<$&&(Y=Y.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+x[y].delimiters.thousands)),0===a.indexOf(".")&&(Y=""),_=a.indexOf("("),u=a.indexOf("-"),fa=u>_?(ba&&P?"(":"")+(O&&P||!ba&&P?"-":""):(O&&P||!ba&&P?"-":"")+(ba&&P?"(":""),p+fa+(!P&&ca&&0!==d?"+":"")+Y+N+(L?L:"")+(E&&!e?E:"")+(da?da:"")+(ba&&P?")":"")+Z}function j(c,a){x[c]=a}function k(c){y=c;var a=x[c].defaults;a&&a.format&&n.defaultFormat(a.format),a&&a.currencyFormat&&n.defaultCurrencyFormat(a.currencyFormat)}function l(c){var a=c.toString().split(".");return 2>a.length?1:s(10,a[1].length)}function m(){var b=Array.prototype.slice.call(arguments);return b.reduce(function(e,a){var b=l(e),c=l(a);return b>c?b:c},-(1/0))}var n,o=Math.round,q=Math.floor,r=Math.min,s=Math.pow,X=Math.abs,a=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],H=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],I={general:{scale:1024,suffixes:H,marker:"bd"},binary:{scale:1024,suffixes:a,marker:"b"},decimal:{scale:1e3,suffixes:H,marker:"d"}},M=[I.general,I.binary,I.decimal],x={},w=x,y="en-US",A=null,z="0,0",B="0$",C="undefined"!=typeof module&&module.exports;n=function(a){return n.isNumbro(a)?a=a.value():0===a||"undefined"==typeof a?a=0:+a||(a=n.fn.unformat(a)),new p(+a)},n.version="1.9.3",n.isNumbro=function(a){return a instanceof p},n.setLanguage=function(f,a){console.warn("`setLanguage` is deprecated since version 1.6.0. Use `setCulture` instead");var b=f,c=f.split("-")[0],d=null;w[b]||(Object.keys(w).forEach(function(b){d||b.split("-")[0]!==c||(d=b)}),b=d||a||"en-US"),k(b)},n.setCulture=function(f,a){var b=f,c=f.split("-")[1],d=null;x[b]||(c&&Object.keys(x).forEach(function(b){d||b.split("-")[1]!==c||(d=b)}),b=d||a||"en-US"),k(b)},n.language=function(c,d){if(console.warn("`language` is deprecated since version 1.6.0. Use `culture` instead"),!c)return y;if(c&&!d){if(!w[c])throw new Error("Unknown language : "+c);k(c)}return!d&&w[c]||j(c,d),n},n.culture=function(c,d){if(!c)return y;if(c&&!d){if(!x[c])throw new Error("Unknown culture : "+c);k(c)}return!d&&x[c]||j(c,d),n},n.languageData=function(b){if(console.warn("`languageData` is deprecated since version 1.6.0. Use `cultureData` instead"),!b)return w[y];if(!w[b])throw new Error("Unknown language : "+b);return w[b]},n.cultureData=function(b){if(!b)return x[y];if(!x[b])throw new Error("Unknown culture : "+b);return x[b]},n.culture("en-US",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(c){var a=c%10;return 1===~~(c%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",0000 a"},formats:{fourDigits:"0000 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00"}}),n.languages=function(){return console.warn("`languages` is deprecated since version 1.6.0. Use `cultures` instead"),w},n.cultures=function(){return x},n.zeroFormat=function(b){A="string"==typeof b?b:null},n.defaultFormat=function(b){z="string"==typeof b?b:"0.0"},n.defaultCurrencyFormat=function(b){B="string"==typeof b?b:"0$"},n.validate=function(k,l){var b,c,d,e,f,g,h,i;if("string"!=typeof k&&(k+="",console.warn&&console.warn("Numbro.js: Value is not string. It has been co-erced to: ",k)),k=k.trim(),k=k.replace(/^[+-]?/,""),k.match(/^\d+$/))return!0;if(""===k)return!1;try{h=n.cultureData(l)}catch(a){h=n.cultureData(n.culture())}return d=h.currency.symbol,f=h.abbreviations,b=h.delimiters.decimal,c="."===h.delimiters.thousands?"\\.":h.delimiters.thousands,i=k.match(/^[^\d\.\,]+/),null!==i&&(k=k.substr(1),i[0]!==d)?!1:(i=k.match(/[^\d]+$/),null!==i&&(k=k.slice(0,-1),i[0]!==f.thousand&&i[0]!==f.million&&i[0]!==f.billion&&i[0]!==f.trillion)?!1:(g=new RegExp(c+"{2}"),!k.match(/[^\d.,]/g)&&(e=k.split(b),!(2<e.length)&&(2>e.length?!!e[0].match(/^\d+.*\d$/)&&!e[0].match(g):""===e[0]?!e[0].match(g)&&!!e[1].match(/^\d+$/):1===e[0].length?!!e[0].match(/^\d+$/)&&!e[0].match(g)&&!!e[1].match(/^\d+$/):!!e[0].match(/^\d+.*\d$/)&&!e[0].match(g)&&!!e[1].match(/^\d+$/)))))},n.loadLanguagesInNode=function(){console.warn("`loadLanguagesInNode` is deprecated since version 1.6.0. Use `loadCulturesInNode` instead"),n.loadCulturesInNode()},n.loadCulturesInNode=function(){var c=require("./languages");for(var a in c)a&&n.culture(a,c[a])},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(g,h){if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof g)throw new TypeError(g+" is not a function");var b,c,d=this.length>>>0,e=!1;for(1<arguments.length&&(c=h,e=!0),b=0;d>b;++b)this.hasOwnProperty(b)&&(e?c=g(c,this[b],b,this):(c=this[b],e=!0));if(!e)throw new TypeError("Reduce of empty array with no initial value");return c}),n.fn=p.prototype={clone:function(){return n(this)},format:function(d,a){return c(this,d?d:z,void 0===a?o:a)},formatCurrency:function(c,a){return f(this,x[y].currency.symbol,c?c:B,void 0===a?o:a)},formatForeignCurrency:function(d,a,b){return e(this,d,a?a:B,void 0===b?o:b)},unformat:function(c){if("number"==typeof c)return c;if("string"==typeof c){var e=d(this,c);return isNaN(e)?void 0:e}},binaryByteUnits:function(){return i(this._value,I.binary.suffixes,I.binary.scale).suffix},byteUnits:function(){return i(this._value,I.general.suffixes,I.general.scale).suffix},decimalByteUnits:function(){return i(this._value,I.decimal.suffixes,I.decimal.scale).suffix},value:function(){return this._value},valueOf:function(){return this._value},set:function(b){return this._value=+b,this},add:function(d){function a(c,a){return c+e*a}var e=m.call(null,this._value,d);return this._value=[this._value,d].reduce(a,0)/e,this},subtract:function(d){function a(c,a){return c-e*a}var e=m.call(null,this._value,d);return this._value=[d].reduce(a,this._value*e)/e,this},multiply:function(c){function a(e,a){var f=m(e,a),c=e*f;return c*=a*f,c/=f*f}return this._value=[this._value,c].reduce(a,1),this},divide:function(c){function a(d,a){var e=m(d,a);return d*e/(a*e)}return this._value=[this._value,c].reduce(a),this},difference:function(b){return X(n(this._value).subtract(b).value())}},function(){return"undefined"!=typeof process&&void 0===process.browser&&process.title&&(0===process.title.indexOf("node")||0<process.title.indexOf("meteor-tool")||"grunt"===process.title||"gulp"===process.title)&&"undefined"!=typeof require}()&&n.loadCulturesInNode(),C?module.exports=n:("undefined"==typeof ender&&(this.numbro=n),"function"==typeof define&&define.amd&&define([],function(){return n}))}).call("undefined"==typeof window?this:window);