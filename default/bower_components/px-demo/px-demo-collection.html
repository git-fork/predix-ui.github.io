<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../px-view-header/px-view-header.html"><link rel="import" href="../px-deck-selector/px-deck-selector.html"><link rel="import" href="css/px-demo-styles.html"></head><body><dom-module id="px-demo-collection"><template><style include="px-demo-styles"></style><section class="demo-collection__header"><px-view-header use-deck-selector="true"><div id="left" slot="left" class="flex flex--row"><p class="demo-collection__header__text">View Children:</p><px-deck-selector class="demo-collection__header__selector" decks="{{_decks}}" selected-deck="{{_selectedDeck}}"></px-deck-selector></div></px-view-header></section><section class="demo-collection__body" id="demoCollection"></section></template></dom-module><script>Polymer({is:'px-demo-collection',properties:{demos:{type:Array},chosenDemoName:{type:String,notify:!0,observer:'_handleChosenDemoNameChange'},_decks:{type:Array,computed:'_computeDecks(demos)'},_selectedDeck:{type:Object,observer:'_handleSelectedDeckChange'}},observers:['_setInitialDemo(demos)'],_setInitialDemo:function(a){var b=this.get('currentDemoName');!b&&a&&Array.isArray(a)&&a.length&&this.set('chosenDemoName',this.get('demos.0.name'))},_handleChosenDemoNameChange:function(a){if('string'===typeof a&&a.length){var b=this.$$('px-demo-goes-here[name="'+a+'"]');if(!b){var c=this._findDemoByName(a),d=this._createDemoNode(c.name,c.tagName);this.$.demoCollection.appendChild(d)}this._showDemo(a),this._syncChosenDemoContext(a)}},_findDemoByName:function(a){for(var b,c=this.get('demos')||[],d=0,e=c.length;d<e;d++)if(c[d].name===a){b=c[d];break}return b||void 0},_findDeckByName:function(a){for(var b,c=this.get('_decks')||[],d=0,e=c.length;d<e;d++)if(c[d].name===a){b=c[d];break}return b||void 0},_createDemoNode:function(a,b){var c=document.createElement('px-demo-goes-here');c.setAttribute('name',a),c.setAttribute('visible',!1);var d=document.createElement(b);return c.appendChild(d),c},_showDemo:function(a){for(var b,c=Polymer.dom(this.root).querySelectorAll('px-demo-goes-here'),d=0,e=c.length;d<e;d++){if(b=c[d].getAttribute('name')===a,b){c[d].removeAttribute('style');continue}c[d].setAttribute('style','display:none;')}},_computeDecks:function(a){if(a&&Array.isArray(a)&&a.length){for(var b=[],c=0,d=a.length;c<d;c++)b.push({id:c,name:a[c].name,tagName:a[c].tagName});return b}},_handleSelectedDeckChange:function(a){var b=this.get('chosenDemoName');b&&a.name&&b!==a.name&&this.set('chosenDemoName',a.name)},_isInitialDeck:function(a){return a&&'object'===typeof a&&0===a.id},_handleBackToInitial:function(){this.set('chosenDemoName',this.get('demos.0.name'))},_syncChosenDemoContext:function(a){var b=this.get('_selectedDeck');if(!b||!b.name||b.name!==a){var c=this._findDeckByName(a);this.set('_selectedDeck',c)}}});</script></body></html>