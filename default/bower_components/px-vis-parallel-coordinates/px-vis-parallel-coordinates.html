<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../px-vis/px-vis-behavior-common.html"><link rel="import" href="../px-vis/px-vis-behavior-d3.html"><link rel="import" href="../px-vis/px-vis-behavior-chart.html"><link rel="import" href="../px-vis/px-vis-behavior-renderer.html"><link rel="import" href="../px-vis/px-vis-svg-canvas.html"><link rel="import" href="../px-vis/px-vis-line-svg.html"><link rel="import" href="../px-vis/px-vis-line-canvas.html"><link rel="import" href="../px-vis/px-vis-clip-path.html"><link rel="import" href="../px-vis/px-vis-multi-axis.html"><link rel="import" href="../px-vis/px-vis-behavior-scale-multi-axis.html"><link rel="import" href="../px-vis/px-vis-gridlines.html"><link rel="import" href="../px-vis/px-vis-tooltip.html"><link rel="import" href="../px-vis/px-vis-toolbar.html"><link rel="import" href="../iron-resizable-behavior/iron-resizable-behavior.html"><link rel="import" href="../app-localize-behavior/app-localize-behavior.html"><link rel="import" href="../px-vis/px-vis-cursor-line.html"><link rel="import" href="../px-vis/px-vis-highlight-line.html"><link rel="import" href="../px-vis/px-vis-highlight-line-canvas.html"><link rel="import" href="css/px-vis-parallel-coordinates-styles.html"></head><body><dom-module id="px-vis-parallel-coordinates"><template><style include="px-vis-parallel-coordinates-styles" is="custom-style"></style><div id="wrapper" class$="{{_chartWrapperClass}}"><div class="flex flex--col safari-flex-fix"><px-vis-register id="categoryRegister" x-axis-type="linear" y-axis-type="linear" class$="{{_getHideClass(_hideCategoryRegister)}}" tooltip-data="[[_categoryRegisterTooltipData]]" complete-series-config="[[_categoryRegisterConfig]]" muted-series="{{mutedSeriesCategories}}" type="horizontal"></px-vis-register><div class="flex flex--row--rev"><px-vis-register id="axisRegister" x-axis-type="linear" y-axis-type="linear" class$="{{_getHideClass(hideAxisRegister)}}" dynamic-menu-config="[[dynamicMenuConfig]]" tooltip-data="[[_axisRegisterTooltipData]]" complete-series-config="[[_axisRegisterConfig]]" muted-series="[[mutedAxes]]" type="vertical" height="[[_verticalRegisterHeight]]"></px-vis-register><div class="flex flex--col"><px-vis-toolbar id="toolbar" current-sub-config="[[toolbarSubConfig]]" action-config="{{actionConfig}}" within-chart="" chart-margin="[[margin]]" show-tooltip="{{_internalShowTooltip}}" config="{&quot;axisMuteSeries&quot;: true, &quot;axisDrag&quot;: true, &quot;bareZoom&quot;: true, &quot;pan&quot;: true, &quot;tooltip&quot;: true }"></px-vis-toolbar><px-vis-svg-canvas id="svgCanvas" canvas-context="{{canvasContext}}" canvas-layers="{{canvasLayers}}" canvas-layers-config="[[canvasLayersConfig]]" svg="{{svg}}" px-svg-elem="{{pxSvgElem}}" svg-lower="{{svgLower}}" px-svg-elem-lower="{{pxSvgElemLower}}" width="[[width]]" height="[[height]]" margin="[[margin]]"><px-vis-annotations slot="4" svg="[[svg]]" x="[[x]]" y="[[y]]" margin="[[margin]]" domain-changed="[[domainChanged]]" complete-series-config="[[completeSeriesConfig]]" annotation-data="[[annotationData]]" show-strong-icon="[[showStrongIcon]]"></px-vis-annotations></px-vis-svg-canvas></div><template is="dom-if" if="[[!renderToSvg]]" restamp=""><px-vis-line-canvas id="lineCanvas" gradient-line="" canvas-context="[[canvasContext]]" clip-path="" width="[[width]]" height="[[height]]" margin="[[margin]]" parallel-coordinates="" multi-path="" muted-opacity="0" series-id="[[seriesKey]]" category-key="[[categoryKey]]" categories="[[categories]]" chart-data="[[chartData]]" complete-series-config="[[completeSeriesConfig]]" x="[[x]]" y="[[y]]" domain-changed="[[domainChanged]]" time-domain="[[timeDomain]]" muted-series="[[_combinedMutedSeries]]" prevent-initial-drawing="[[_preventInitialDrawing]]"></px-vis-line-canvas></template><template is="dom-if" if="[[renderToSvg]]" restamp=""><px-vis-line-svg id="lineSVG" gradient-line="" svg="[[layer.0]]" parallel-coordinates="" multi-path="" muted-opacity="0" series-id="[[seriesKey]]" category-key="[[categoryKey]]" categories="[[categories]]" chart-data="[[chartData]]" complete-series-config="[[completeSeriesConfig]]" x="[[x]]" y="[[y]]" domain-changed="[[domainChanged]]" time-domain="[[timeDomain]]" muted-series="[[_combinedMutedSeries]]" prevent-initial-drawing="[[_preventInitialDrawing]]" clip-path="[[seriesClipPath]]"></px-vis-line-svg></template><px-vis-clip-path svg="[[layer.0]]" x="[[x]]" y="[[y]]" width="[[width]]" height="[[height]]" margin="[[margin]]" series-clip-path="{{seriesClipPath}}"></px-vis-clip-path><px-vis-multi-axis id="multiAxis" svg="[[layer.2]]" width="[[width]]" height="[[height]]" margin="[[margin]]" title-location="[[titleLocation]]" x="[[x]]" y="[[y]]" prevent-series-bar="" combined-muted-series="[[_combinedMutedSeries]]" hard-mute="[[hardMute]]" complete-series-config="{{completeSeriesConfig}}" series-key="[[seriesKey]]" chart-data="[[chartData]]" dimensions="[[dimensions]]" axes="[[axes]]" redraw-series="true" stroke-width="2" match-ticks="[[matchTicks]]" grid-ticks="{{gridTicks}}" grid-axis="{{gridAxis}}" common-axis="[[commonAxis]]" outer-tick-size="6" label-type-size="10" title-type-size="12" truncation-length="[[truncationLength]]" tick-values="[[tickVals]]" displayed-values="{{displayedValues}}" append-unit-in-title="" domain-changed="[[domainChanged]]" axis-groups="{{axisGroups}}" brush-domains="[[brushDomains]]" brush-to-remove="[[brushToRemove]]" category-key="[[categoryKey]]" prevent-initial-drawing="[[preventInitialDrawing]]" action-config="[[actionConfig]]" interaction-space-config="[[interactionSpaceConfig]]" time-domain="[[timeDomain]]"></px-vis-multi-axis><template is="dom-if" if="[[matchTicks]]"><px-vis-gridlines svg="[[_calcGridSvg(domainChanged, svgLower)]]" tick-values="[[gridTicks]]" axis="[[gridAxis]]" margin="[[margin]]" length="[[_calcGridWidth(domainChanged)]]" orientation="left" domain-changed="[[domainChanged]]"></px-vis-gridlines></template><template is="dom-if" if="[[_showFakeGrid]]" restamp=""><px-vis-gridlines svg="[[svgLower]]" axis="[[_fakeGrids(height, margin)]]" margin="[[margin]]" length="[[width]]" orientation="left" domain-changed="true"></px-vis-gridlines></template><px-vis-tooltip id="tooltip" x-axis-type="linear" y-axis-type="linear" mouse-position="[[mousePosition]]" chart-data="[[chartData]]" tooltip-data="[[tooltipData]]" complete-series-config="[[_tooltipSeriesConfig]]"></px-vis-tooltip><template id="highlighterDomIf" is="dom-if" if="[[!renderToSvg]]" restamp="" on-dom-change="_highlighterConfigChanged"><px-vis-highlight-line-canvas id="highlighterCanvas" width="[[width]]" height="[[height]]" margin="[[margin]]" canvas-context="[[canvasLayers.highlighter]]" canvas-layers-config="{{canvasLayersConfig}}" layers-to-mask="[[canvasContext]]" x="[[x]]" y="[[y]]" clip-path="" parallel-coordinates="" dimensions="[[dimensions]]" domain-changed="[[domainChanged]]" time-data="[[seriesKey]]" complete-series-config="[[completeSeriesConfig]]" series-id="[[seriesKey]]" category-key="[[categoryKey]]" categories="[[categories]]" chart-data="[[chartData]]" generating-crosshair-data="[[generatingCrosshairData]]" crosshair-data="[[crosshairData]]" default-empty-data="{{defaultEmptyData}}" muted-series="[[_combinedMutedSeries]]" hard-mute="[[hardMute]]"></px-vis-highlight-line-canvas></template><template is="dom-if" if="[[renderToSvg]]" restamp="" on-dom-change="_highlighterConfigChanged"><px-vis-highlight-line id="highlighter" margin="[[margin]]" svg="[[layer.1]]" layers-to-mask="[[layer.0]]" x="[[x]]" y="[[y]]" parallel-coordinates="" dimensions="[[dimensions]]" domain-changed="[[domainChanged]]" time-data="[[seriesKey]]" complete-series-config="[[completeSeriesConfig]]" series-id="[[seriesKey]]" category-key="[[categoryKey]]" categories="[[categories]]" chart-data="[[chartData]]" generating-crosshair-data="[[generatingCrosshairData]]" crosshair-data="[[crosshairData]]" default-empty-data="{{defaultEmptyData}}" clip-path="[[seriesClipPath]]" muted-series="[[_combinedMutedSeries]]" hard-mute="[[hardMute]]"></px-vis-highlight-line></template><px-vis-cursor-line id="lineCursor" svg="[[layer.2]]" svg-data-layer="[[layer.0]]" svg-overlay-layer="[[layer.1]]" canvas-data-layer="[[canvasContext]]" canvas-overlay-layer="[[canvasLayers.highlighter]]" x="[[x]]" y="[[y]]" parallel-coordinates="" dimensions="[[dimensions]]" domain-changed="[[domainChanged]]" time-data="[[seriesKey]]" complete-series-config="[[completeSeriesConfig]]" series-id="[[seriesKey]]" category-key="[[categoryKey]]" categories="[[categories]]" tooltip-data="[[tooltipData.dataset]]" clip-path="[[seriesClipPath]]" muted-series="[[_combinedMutedSeries]]"></px-vis-cursor-line></div></div></div></template></dom-module><script>Polymer({is:'px-vis-parallel-coordinates',behaviors:[PxVisBehavior.observerCheck,PxVisBehavior.sizing,PxVisBehaviorD3.svg,PxVisBehaviorD3.svgLower,PxVisBehaviorD3.canvas,PxVisBehaviorD3.axes,PxVisBehavior.dataset,PxVisBehavior.dimensions,PxVisBehavior.commonMethods,PxVisBehaviorScale.scaleMultiAxis,PxVisBehavior.chartExtents,PxVisBehavior.dataExtents,PxVisBehavior.completeSeriesConfig,PxVisBehaviorD3.labelTypeSize,PxVisBehavior.mutedSeries,PxVisBehaviorD3.dynamicRedraw,Polymer.IronResizableBehavior,PxVisBehavior.categories,PxVisBehavior.commonAxis,PxVisBehaviorD3.selectedTimeDomain,PxVisBehaviorChart.saveImage,PxVisBehaviorChart.chartAutoResize,PxVisBehavior.truncating,PxVisBehaviorD3.domainUpdate,PxVisBehavior.tooltipData,PxVisBehaviorD3.selectedDomain,PxVisBehaviorChart.waitForAttach,PxVisBehaviorChart.subConfiguration,PxVisBehaviorChart.chartCommonMethods,PxVisBehaviorChart.layers,PxColorsBehavior.dataVisColorTheming,PxColorsBehavior.getSeriesColors,PxVisBehaviorChart.axisRegister,PxVisBehaviorChart.categoryRegister,PxVisBehaviorChart.categoryAndAxisRegisterConfigs,PxVisBehavior.dynamicMenuConfig,PxVisBehaviorChart.actionRequest,PxVisBehaviorChart.toolbarSubConfig,PxVisBehaviorChart.chartToolbarConfig,PxVisBehaviorChart.sizeVerticalRegister,PxVisBehaviorChart.highlighterConfigs,PxVisBehavior.crosshairData,Polymer.AppLocalizeBehavior,PxVisBehavior.interactionSpaceConfigGeneric,PxVisBehaviorRenderer.base,PxVisBehaviorChart.combineMutes,PxVisBehavior.updateStylesOverride,PxVisBehavior.timeDomain,PxVisBehavior.axesDomain,PxVisBehaviorChart.multiAxisMuting,PxVisBehaviorChart.multiAxisZoom,PxVisBehavior.brushDomains,PxVisBehaviorChart.useCategoryInTooltip,PxVisBehaviorChart.tooltipSizing,PxVisBehavior.annotationData,PxVisBehaviorChart.interactionSpaceConfig,PxVisBehaviorChart.multiAxisLasso],properties:{skipKeys:{type:Object,notify:!0,value:function(){return{}}},seriesKey:{type:String,notify:!0},matchTicks:{type:Boolean,value:!1},generateAxesFromData:{type:Boolean,value:!1},seriesConfig:{type:Object,notify:!0,value:function(){return{}}},displayedValues:{type:Object},_currentLabelRotation:{type:String,value:''},_haveChartData:{type:Boolean,computed:'_doWeHaveChartData(chartData)'},_showFakeGrid:{type:Boolean,value:!0,computed:'_calcShowFakeGrid(_haveChartData, y, domainChanged)'},_tooltipSeriesConfig:{type:Object,value:function(){return{}}},tooltipConfig:{type:Object},margin:{type:Object,notify:!0,value:function(){return{left:15,right:15,top:10,bottom:0}}},startColorIndex:{type:Number,value:0},resources:{type:Object,value:function(){return{}}},language:{type:String,value:'en'},useKeyIfMissing:{type:Boolean,value:!0},preventInitialDrawing:{type:Boolean,value:!0},tickVals:{type:Object,value:function(){return{}}},_tickStack:{type:Object,value:function(){return{}}}},observers:['_generateSeriesConfig(dimensions, seriesConfig, categories.*, seriesKey, _haveChartData, seriesColorList.*)','_computeAxes(chartData.*,skipKeys.*)','_computeDimensions(axes.*, mutedAxes.*)','_setMutedSeriesDomain(timeDomain.x)','_calcTitleLocation(svg, height, width, displayedValues.*)','_tooltipConfigChanged(tooltipConfig)','_toolbarConfigChanged(toolbarConfig)','_highlighterConfigChanged(highlighterConfig.*)','_langChanged(language)','_setXScale(width,margin)','_setYScale(height,margin,axes)','_generateDataExtents(dimensions, commonAxis, _haveChartData)','_generateDataExtents(dimensions, commonAxis, _haveChartData, chartExtents)','_setDomain(x, y, dataExtents)','_updateDomain(axesDomain.*)','_calcTickVals(domainChanged)','_updateTicks(axesDomain.*)','_mutedCategoriesChanged(mutedSeriesCategories.*, hardMute)','_renderChartData(domainChanged, canvasContext, chartData.*, mutedSeries.*, completeSeriesConfig.*, preventInitialDrawing, renderToSvg, _combinedMutedSeries)','_renderHighlight(domainChanged, canvasLayers.highlighter, completeSeriesConfig.*, preventInitialDrawing)','_setTimeDomain(selectedDomain.*)'],listeners:{"iron-resize":'_onIronResize',"px-vis-axis-interaction-space-tooltip-data":'_calcTooltip',"px-vis-axis-interaction-space-reset-tooltip":'_hideTooltip',"px-vis-axis-interaction-space-crosshair-data":'_calcCrosshair',"px-vis-axis-interaction-space-reset-crosshair":'_hideCrosshair',"px-vis-muted-series-updated":'_muteUnmute',"px-data-vis-colors-applied":'_generateSeriesConfig',"px-vis-axis-interaction-space-extents-data":'_setExtentsData'},detached:function(){this.set('preventInitialDrawing',!0)},attached:function(){this.displayedValues&&window.requestAnimationFrame(function(){this._calcTitleLocation()}.bind(this))},ready:function(){this.set('numberOfLayers',3),this.set('_verticalRegisterDrawingCanvasId','svgCanvas'),this.set('_verticalRegisterHeightDeductions',['toolbar'])},_doWeHaveChartData:function(){return this.hasUndefinedArguments(arguments)?void 0:this.chartData&&0<this.chartData.length||void 0},_tooltipConfigChanged:function(){this.hasUndefinedArguments(arguments)||this._applyConfigToElement(this.tooltipConfig,this.$.tooltip)},_toolbarConfigChanged:function(){this.hasUndefinedArguments(arguments)||this._applyConfigToElement(this.toolbarConfig,this.$.toolbar)},_highlighterConfigChanged:function(){var a=this.renderToSvg?this.$$('#highlighter'):this.$$('#highlighterCanvas');a&&this._doesObjHaveValues(this.highlighterConfig)&&this._applyConfigToElement(this.highlighterConfig,a)},_calcTitleLocation:function(){this.hasUndefinedArguments(arguments)||this.debounce('calcTitleLocation',function(){for(var a=0,b=this,c=Object.keys(this.displayedValues),d=[],e=0;e<c.length;e++)d.push(this.displayedValues[c[e]]);var f=this.svg.selectAll('.dummyText').data(d);f.enter().append('text').attr('class','dummyText').attr('font-size',this.labelTypeSize+'px').attr('font-style','GE Inspira Sans').text(function(a){return a}).each(function(){var b=this.getComputedTextLength();a=Math.max(b,a),this.remove()}),a+=10;var g=this.width/d.length<a,h=g?'vertical':'horizontal';if(newBottomMargin=g?a:this.labelTypeSize+10,rotation=g?'-90':'0',yPos=g?this.height-newBottomMargin:this.height+10-newBottomMargin,anchor=g?'end':'middle',this.margin.bottom!==newBottomMargin){var i=this.margin;this.set('margin',{top:i.top,right:i.right,left:i.left,bottom:newBottomMargin})}(h!==this._currentLabelRotation||yPos!==this.titleLocation.y)&&this.set('titleLocation',{x:'3',y:yPos,r:rotation,anchor:anchor}),this.set('preventInitialDrawing',!1)}.bind(this),5)},_computeAxes:function(){if(!this.hasUndefinedArguments(arguments)&&this._doesObjHaveValues(this.chartData)){var a;if(this.skipKeys[this.seriesKey]=!0,this.categoryKey&&(this.skipKeys[this.categoryKey]=!0),this.generateAxesFromData){if('undefined'===typeof this.axes)a=Object.keys(this.chartData[0]).filter(function(a){return!this.skipKeys[a]}.bind(this));else{var b=Object.keys(this.chartData[0]).filter(function(a){return!this.skipKeys[a]&&-1===this.axes.indexOf(a)}.bind(this)),c=this.axes.filter(function(a){return-1!==Object.keys(this.chartData[0]).indexOf(a)&&!this.skipKeys[a]}.bind(this));a=c.concat(b)}this.set('axes',a)}}},_computeDimensions:function(){if(!this.hasUndefinedArguments(arguments))if(!this._doesObjHaveValues(this.axes))this.dimensions&&0<this.dimensions.length&&this.set('dimensions',[]);else if(this._doesObjHaveValues(this.mutedAxes)){var a=this.axes.filter(function(a){return!this.mutedAxes[a]}.bind(this));this.set('dimensions',a)}else this.set('dimensions',this.axes)},_generateSeriesConfig:function(){this.hasUndefinedArguments(arguments)||this.debounce('_generateSeriesConfig',function(){if(this.seriesColorList.length&&this._haveChartData&&this._doesObjHaveValues(this.dimensions)){var a=this.seriesConfig?JSON.parse(JSON.stringify(this.seriesConfig)):{};if(a[this.seriesKey]||(a[this.seriesKey]={}),a[this.seriesKey].name||(a[this.seriesKey].name=this.seriesKey),a[this.seriesKey].x||(a[this.seriesKey].x=this.dimensions),a[this.seriesKey].y||(a[this.seriesKey].y=this.dimensions),a[this.seriesKey].color||(a[this.seriesKey].color=this._getColor(this.startColorIndex)),'undefined'!==typeof this.categoryKey)for(var b=0;b<this.categories.length;b++)a[this.categories[b]]?(a[this.categories[b]].color=a[this.categories[b]].color?a[this.categories[b]].color:this._getColor(this.startColorIndex+b),a[this.categories[b]].name=a[this.categories[b]].name?a[this.categories[b]].name:this.categories[b],a[this.categories[b]].x=a[this.categories[b]].x?a[this.categories[b]].x:this.dimensions,a[this.categories[b]].y=a[this.categories[b]].y?a[this.categories[b]].y:this.dimensions):a[this.categories[b]]={color:this._getColor(this.startColorIndex+b),name:this.categories[b],x:this.dimensions,y:this.dimensions};this.set('completeSeriesConfig',a)}}.bind(this),20)},_setMutedSeriesDomain:function(a){this.hasUndefinedArguments(arguments)||this.debounce('muted_series_domain',function(){if(a&&a.length&&this.chartData&&0<this.chartData.length){for(var b={},c=0;c<this.chartData.length;c++)(this.chartData[c][this.seriesKey]<a[0]||this.chartData[c][this.seriesKey]>a[1])&&(b[this.chartData[c][this.seriesKey]]=!0);this.set('mutedSeriesDomain',b)}},200)},resizeChart:function(){this._onIronResize()},_onIronResize:function(){var a=Math.max;this.debounce('ironresize',function(){if(!this.preventResize){var b,c,d=this.$.wrapper.getBoundingClientRect(),e=this.hideAxisRegister?0:this.$.axisRegister.getBoundingClientRect().width,f=this._hideCategoryRegister?0:this.$.categoryRegister.getBoundingClientRect().height,g=this.$.toolbar.getBoundingClientRect(),h=0,i=0;i+=f,i+=g.height,h+=e,b=a(d.width-h,0),c=a(d.height-i,0),(this.width!==b||this.height!==c)&&(this.set('preventInitialDrawing',!0),this.set('width',b),this.set('height',c),this._computeVerticalRegisterHeight([g.height,f]))}},this.debounceResizeTiming)},_calcGridWidth:function(){if(null!==this.domainChanged&&this.domainChanged!==void 0)return this.width-2*this.x(this.dimensions[0])},_calcGridSvg:function(){if(null!==this.domainChanged){var a=this.svgLower.select('.gridGroup');return a.node()?a.attr('transform','translate('+this.x(this.dimensions[0])+',0)'):this.svgLower.append('g').attr('class','gridGroup').attr('transform','translate('+this.x(this.dimensions[0])+',0)')}},addToMutedAxes:function(b){this._changeMutedAxes(b,!0)},removeFromMutedAxes:function(b){this._changeMutedAxes(b,!1)},_changeMutedAxes:function(b,c){for(var d={},e=Object.keys(this.mutedAxes),f=0;f<e.length;f++)d[e[f]]=this.mutedAxes[e[f]];if('string'===typeof b)d[b]=c,this.set('mutedAxes',d);else if(Array.isArray(b)){for(var f=0;f<b.length;f++)d[b[f]]=c;this.set('mutedAxes',d)}else console.error('Cannot add/remove axis. Improper axis type')},_calcTooltip:function(a){var b=a.detail;this._buildAxisTooltipData(b.dataset,b.time),this._updateAxisConfig(b.color),this.showTooltip&&b.tooltipConfig&&this._doTooltipCalcs(b),this.set('tooltipData',b)},_hideTooltip:function(a){return this.defaultEmptyData&&this.defaultEmptyData.dataset?void this._calcTooltip({detail:this.defaultEmptyData}):void(this.set('tooltipData',a.detail),this.set('mousePosition',[-1000,-1000]),this._buildAxisTooltipData(),this._updateAxisConfig())},_doTooltipCalcs:function(a){if(this.useCategoryInTooltip){var b,c=Object.keys(a.tooltipConfig)[0],d=a.dataset[this.categoryKey];d&&(b=this.completeSeriesConfig[d]&&this.completeSeriesConfig[d].name.toString()!==d?this.completeSeriesConfig[d].name:this.categoryKey+' - '+d,a.tooltipConfig[c].name=b)}this._svgClientRect&&this._canvasClientRect||this._getImmediateSizing();var e=this.x(a.axis)+this._svgClientRect.left+this._winX+15,f=this.y[a.axis](a.yVal)+this.margin.top+this._svgClientRect.top+this._winY;if(a.adjustPosition){var g=this.renderToSvg?this._svgClientRect:this._canvasClientRect;e+=g.left,f+=g.top}this.set('mousePosition',[e,f]),this.set('_tooltipSeriesConfig',a.tooltipConfig)},_calcCrosshair:function(a){this.generatingCrosshairData=!0,this.set('crosshairData',a.detail)},_hideCrosshair:function(a){this.generatingCrosshairData=!1,this.set('crosshairData',a.detail)},_fakeGrids:function(a,b){var c=a-b.top-b.bottom;return Px.d3.scaleLinear().nice().range([c,0])},_calcShowFakeGrid:function(){if(!this.hasUndefinedArguments(arguments)){var a=!1;if(this._haveChartData&&0<Object.keys(this.y).length){var b=Object.keys(this.y)[0];a=!(0<this.y[b].domain().length)}return a}},deleteAllBrushes:function(){this.$.multiAxis.deleteAllBrushes()},_muteUnmute:function(a){a.detail.fromRegister&&-1!==this.axes.indexOf(a.detail.name)&&(a.detail.value?this.addToMutedAxes(a.detail.name):this.removeFromMutedAxes(a.detail.name))},_langChanged:function(){this.hasUndefinedArguments(arguments)||this._recreateScales()},_setTimeDomain:function(){this.hasUndefinedArguments(arguments)||this.selectedDomain&&this.selectedDomain.x&&this.selectedDomain.x.length&&this.set('timeDomain',this.selectedDomain)},_setExtentsData:function(a){if(a.detail.extents){this.extentsAction=a.detail.action;var b={};b.dimension=a.detail.dimension,b.extents=a.detail.extents,this.set('extentsData',b)}},_calcTickVals:function(){if(!this.hasUndefinedArguments(arguments)&&!(this._isObjEmpty(this.y)||this._doesObjHaveValues(this.axesDomain))){if(this.commonAxis){var a=Object.keys(this.y)[0];return this.set('gridAxis',this.y[a]),this.set('tickVals',null),void this.set('gridTicks',null)}var b={};if(this.matchTicks&&!this.singleDomain){for(var c,d,e,f,a,g=Object.keys(this.y),h=[],k=0;k<g.length;k++){a=g[k],c=this.y[a].domain(),d=10*Math.floor(c[0]/10),e=10*Math.ceil(c[1]/10),f=(e-d)/10,h=[];for(var i=0;11>i;i++)h.push(d+f*i);b[a]=h}this.set('gridTicks',b[g[0]]),this.set('gridAxis',this.y[g[0]])}this.set('tickVals',b)}},_updateTicks:function(a){if(!this.hasUndefinedArguments(arguments)&&this.matchTicks&&!this.commonAxis){var b=Object.keys(a.value);if(1===b.length&&!this._tickStack[b[0]])this._saveTicks(b[0]);else for(var c=0;c<b.length;c++)this._checkIfTickVals(b[c])}},_saveTicks:function(a){this._tickStack[a]=this.tickVals[a],this.set('tickVals.'+a,null)},_checkIfTickVals:function(a){if(this._tickStack[a]){var b=this.y[a].domain(),c=this._tickStack[a].length-1;this._tickStack[a][0]===b[0]&&this._tickStack[a][c]===b[1]&&(this.set('tickVals.'+a,this._tickStack[a]),delete this._tickStack[a])}},_mutedCategoriesChanged:function(){this.hasUndefinedArguments(arguments)||!0===this.hardMute&&this._generateDataExtents()}});</script></body></html>