'use strict';'serviceWorker'in navigator&&('localhost'===window.location.hostname||'127.0.0.1'===window.location.hostname?(console.log('Dev environment detected, skipping ServiceWorker registration.'),navigator.serviceWorker.getRegistrations().then(function(a){for(var b=0;b<a.length;b++)console.log('Unregistering existing service worker for dev environment.'),a[b].unregister()})):window.addEventListener('load',function(){navigator.serviceWorker.register(document.querySelector('base').href+'service-worker.js').then(function(a){console.log('Service worker registered.'),a.onupdatefound=function(){console.log('Service worker update found.');var b=a.installing;b.onstatechange=function(){switch(b.state){case'installed':navigator.serviceWorker.controller?(console.log('New or updated content is available.'),setTimeout(function(){window.dispatchEvent(new CustomEvent('service-worker-changes-available'))},2500)):console.log('Content is now available offline!');break;case'redundant':console.error('The installing service worker became redundant.');}}}}).catch(function(a){console.error('Error during service worker registration:',a)})}));