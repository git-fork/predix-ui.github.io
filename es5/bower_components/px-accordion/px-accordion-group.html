<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="css/px-accordion-styles.html"><link rel="import" href="../app-localize-behavior/app-localize-behavior.html"></head><body><dom-module id="px-accordion-group"><template><style include="px-accordion-styles"></style><div class="accordion__expand__collapse text--right"><span data-val="expand" class$="accordion__expand {{_getBtnClassName(_expandAllActive)}}" on-tap="_handleExpandAll">{{localize('Expand All')}}</span> <span>| </span><span data-val="collapse" class$="accordion__collapse {{_getBtnClassName(_collapseAllActive)}}" on-tap="_handleCollapseAll">{{localize('Collapse All')}}</span></div><slot id="accordions"></slot></template><script>Polymer({is:'px-accordion-group',behaviors:[Polymer.AppLocalizeBehavior],properties:{language:{type:String,value:'en'},useKeyIfMissing:{type:Boolean,value:!0},resources:{type:Object,value:function(){return{en:{"Expand All":'Expand All',"Collapse All":'Collapse All'}}}},_expandAllActive:{type:Boolean,value:!1},_collapseAllActive:{type:Boolean,value:!1},_accordions:{type:Array,value:null,observer:'_updateAccordionState'}},listeners:{"px-accordion-opened-state-changed":'_updateAccordionState'},attached:function(){var a=this._getChildAccordions.bind(this);this._observer=Polymer.dom(this.$.accordions).observeNodes(a)},detached:function(){Polymer.dom(this.$.accordions).unobserveNodes(this._observer),this._accordions=null},_getBtnClassName:function(a){return a?'actionable':'actionable--disabled'},_getChildAccordions:function(){this.debounce('get-child-accordions',function(){this._accordions=this.queryAllEffectiveChildren('px-accordion')},1)},_updateAccordionState:function(){this.debounce('update-accordion-state',function(){if(this._accordions&&Array.isArray(this._accordions)&&0<this._accordions.length){for(var a=!1,b=!1,c=0;c<this._accordions.length&&!(a&&b);c++)!0===this._accordions[c].opened&&(a=!0),!1===this._accordions[c].opened&&(b=!0);this._expandAllActive=b,this._collapseAllActive=a}},1)},_handleExpandAll:function(){if(this._accordions&&Array.isArray(this._accordions)&&0<this._accordions.length)for(var a=0;a<this._accordions.length;a++)this._accordions[a].opened=!0},_handleCollapseAll:function(){if(this._accordions&&Array.isArray(this._accordions)&&0<this._accordions.length)for(var a=0;a<this._accordions.length;a++)this._accordions[a].opened=!1}});</script></dom-module></body></html>