<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../neon-animation/neon-animations.html"><link rel="import" href="../neon-animation/neon-animation-behavior.html"><link rel="import" href="../neon-animation/neon-animation-runner-behavior.html"><link rel="import" href="../web-animations-js/web-animations-next-lite.min.html"><link rel="import" href="px-app-nav-item.html"><link rel="import" href="css/px-app-nav-subgroup-styles.html"></head><body><dom-module id="px-app-nav-subgroup"><template><style include="px-app-nav-subgroup-styles"></style><px-app-nav-item id="itemButton" dropdown="" cancel-select="" icon="{{icon}}" label="{{label}}" selected$="{{selected}}" overflowed$="{{overflowed}}" collapsed$="{{collapsed}}" only-show-icon$="[[onlyShowIcon]]" empty-icon="[[emptyIcon]]"></px-app-nav-item><div class="app-nav-subgroup__dropdown" id="groupcontainer"><div class="app-nav-subgroup__dropdown__content" id="groupcontent"><slot></slot></div></div></template></dom-module><script>(function(){function a(a){return 1e3*a/800}Polymer({is:'px-app-nav-subgroup',behaviors:[Polymer.NeonAnimationRunnerBehavior],properties:{selected:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},collapsed:{type:Boolean,value:!1,reflectToAttribute:!0},overflowed:{type:Boolean,value:!1,reflectToAttribute:!0},item:{type:Object},label:{type:String},icon:{type:String},emptyIcon:{type:Boolean,value:!1},opened:{type:Boolean},onlyShowIcon:{type:Boolean,value:!1,observer:'_onlyShowIconChanged'},_reopen:{type:Boolean,value:!1},animationConfig:{type:Array}},listeners:{"neon-animation-finish":'_onNeonAnimationFinish'},attached:function(){this.listen(this.$.itemButton,'tap','_handleSelfTapped'),this.animationConfig||(this.animationConfig={open:{name:'expand-subgroup-animation',node:this.$.groupcontainer,endHeightNode:this.$.groupcontent,timing:{easing:'ease-in'}},close:{name:'contract-subgroup-animation',node:this.$.groupcontainer,startHeightNode:this.$.groupcontent,timing:{easing:'ease-out'}}})},detached:function(){this.unlisten(this.$.itemButton,'tap','_handleSelfTapped')},_toggleGroup:function(){this.opened?this.closeGroup():this.openGroup()},openGroup:function(){this.opened=!0,this.playAnimation('open')},closeGroup:function(){this.opened=!1,this.playAnimation('close')},_onNeonAnimationFinish:function(){this.$.groupcontainer.style.height=this.opened?this.$.groupcontent.getBoundingClientRect().height+'px':'0px'},_handleSelfTapped:function(){this._toggleGroup()},_onlyShowIconChanged:function(a,b){return'boolean'===typeof b?a&&!b&&this.opened?(this.closeGroup(),void(this._reopen=!0)):!a&&b&&this._reopen?(this.openGroup(),void(this._reopen=!1)):void 0:void 0}}),Polymer({is:'expand-subgroup-animation',behaviors:[Polymer.NeonAnimationBehavior],configure:function(b){var c=b.node,d=b.endHeightNode,e=d.getBoundingClientRect().height,f=Object.assign({},this.timingFromConfig(b),{duration:a(e)});return this._effect=new KeyframeEffect(c,[{height:'0px'},{height:e+'px'}],f),this._effect}}),Polymer({is:'contract-subgroup-animation',behaviors:[Polymer.NeonAnimationBehavior],configure:function(b){var c=b.node,d=b.startHeightNode,e=d.getBoundingClientRect().height,f=Object.assign({},this.timingFromConfig(b),{duration:a(e)});return f.duration=a(e),this._effect=new KeyframeEffect(c,[{height:e+'px'},{height:'0px'}],f),this._effect}})})();</script></body></html>