(function(){'use strict';window.PxMap=window.PxMap||{};var a=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return babelHelpers.classCallCheck(this,a),this.icon=this.createIcon(b),this.icon}return babelHelpers.createClass(a,[{key:'createIcon',value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=a.type,c=void 0===b?'info':b,d=a.styleScope,e=a.color,f=this._generateStaticIconClasses(c,d),g='',h='';e&&(g='background-color: '+e+';',h='border-color: '+e+' transparent transparent;');var i='\n        <div class="map-icon-static__wrapper">\n          <i class="map-icon-static__body" style="'+g+'"></i>\n          <i class="map-icon-static__descender" style="'+h+'"></i>\n          <i class="map-icon-static__badge"></i>\n        </div>\n      ',j=L.point(23,31),k=L.point(7.6,31),l=L.point(1,-31);return L.divIcon({className:f,html:i,iconSize:j,iconAnchor:k,popupAnchor:l})}},{key:'_generateStaticIconClasses',value:function(a,b){var c=['map-icon','map-icon-static','map-icon-static--with-badge'];return a&&a.length&&c.push('map-icon-static--'+a),b&&c.push(b),c.join(' ')}}]),a}();PxMap.StaticIcon=a;var b=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return babelHelpers.classCallCheck(this,a),this.icon=this.createIcon(b),this.icon}return babelHelpers.createClass(a,[{key:'createIcon',value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=a.type,c=void 0===b?'info':b,d=a.icon,e=void 0===d?'px-nav:favorite':d,f=a.styleScope,g=a.stroke,h=void 0===g?'currentColor':g,i=a.fill,j=void 0===i?'none':i,k=a.strokeWidth,l=void 0===k?'2px':k,m=a.color,n=this._generateSymbolIconClasses(c,f),o='',p='';m&&(o='background-color: '+m+';',p='border-color: '+m+' transparent transparent;');var q='\n      <div class="map-icon-symbol__wrapper">\n        <i class="map-icon-symbol__body" style="'+o+'">\n          <div class="map-icon-symbol__symbol--container flex flex--middle flex--center">\n            <px-icon icon="'+e+'" style="stroke:'+h+'; fill:'+j+'; width:100%; height:100%; stroke-width:'+l+'"></px-icon>\n          </div>\n        </i>\n        <i class="map-icon-symbol__descender" style="'+p+'"></i>\n        <i class="map-icon-symbol__badge"></i>\n      </div>\n      ',r=L.point(40,56),s=L.point(19.6,57),t=L.point(1,-58);return L.divIcon({className:n,html:q,iconSize:r,iconAnchor:s,popupAnchor:t})}},{key:'_generateSymbolIconClasses',value:function(a,b){var c=['map-icon','map-icon-symbol','map-icon-symbol--with-badge'];return a&&a.length&&c.push('map-icon-symbol--'+a),b&&c.push(b),c.join(' ')}}]),a}();PxMap.SymbolIcon=b;var c=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return babelHelpers.classCallCheck(this,a),this.icon=this.createIcon(b),this.icon}return babelHelpers.createClass(a,[{key:'createIcon',value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=a.count,c=a.countByType,d=a.colorsByType,e=a.containerSize,f=void 0===e?50:e,g=a.pathSize,h=void 0===g?10:g,i=a.borderSize,j=void 0===i?0:i,k=a.className,l=void 0===k?'':k,m=a.styleScope,n=f-(0<j?2*j-0.5:0),o=L.point(f,f),p=this._generateClusterIconSVG(c,d,n,h);return L.divIcon({iconSize:o,className:'map-icon-cluster '+(l||'')+' '+(m||''),html:'\n        <div class="map-icon-cluster__container" style="width: '+f+'px; height: '+f+'px">\n          <i class="map-icon-cluster__svg">'+p+'</i>\n          <div class="map-icon-cluster__body">'+b+'</div>\n        </div>\n      '})}},{key:'_generateClusterIconSVG',value:function(a,b,c,d){var e=Object.keys(a),f=e.map(function(c){return{type:c,count:a[c],color:b[c]}});f.sort(function(c,a){return c.count-a.count});var g,h,i,j,k=[],l=[];for(g=0,h=e.length;g<h;g++)i=e[g],j=a[i],k.push(a[i]),l.push(b[i]);return this.createPieChart(k,l,c,d)}},{key:'createPieChart',value:function(a,b,c,d){var e=Px.d3.pie(),f=e(a),g=c/2,h=Px.d3.arc().outerRadius(g).innerRadius(g-d),i=function(a,c){return'<path d="'+h(a)+'" fill="'+b[c]+'" opacity="1"></path>'};return'\n        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveAspectRatio="none" viewBox="0 0 '+c+' '+c+'">\n            <g transform="translate('+g+', '+g+')">\n                '+function(a){return a.map(i).join('')}(f)+'\n            </g>\n        </svg>\n      '}}]),a}();PxMap.ClusterIcon=c})();