<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="css/px-heatmap-grid-styles.html"><link rel="import" href="px-heatmap-grid-table.html"><link rel="import" href="px-heatmap-grid-scale.html"><link rel="import" href="../px-spinner/px-spinner.html"></head><body><dom-module id="px-heatmap-grid"><template><style include="px-heatmap-grid-styles"></style><div class="flex flex--row flex--left flex--top flex--stretch"><template is="dom-if" if="{{loading}}"><px-spinner size="50" class="spinner"></px-spinner></template><template is="dom-if" if="{{!loading}}"><px-heatmap-grid-table data="{{heatmapData}}" scale="{{scale}}" hide-row-header="{{hideRowHeader}}" hide-col-header="{{hideColHeader}}" aggregation-type="{{aggregationType}}" hide-values="{{hideValues}}" scale-color-from="{{_scaleColorFrom}}" scale-color-to="{{_scaleColorTo}}"></px-heatmap-grid-table><px-heatmap-grid-scale scale="{{scale}}" hidden$="{{hideScale}}" scale-color-from="{{_scaleColorFrom}}" scale-color-to="{{_scaleColorTo}}" hide-col-header="{{hideColHeader}}"></px-heatmap-grid-scale></template></div></template></dom-module><script>Polymer({is:'px-heatmap-grid',properties:{heatmapData:{type:Array,notify:!0,value:function(){return[]}},scaleMin:{type:Number,value:0,observer:'_scaleChanged'},scaleMax:{type:Number,value:100,observer:'_scaleChanged'},hideScale:{type:Boolean,value:!1},hideColHeader:{type:Boolean,value:!1},hideRowHeader:{type:Boolean,value:!1},hideValues:{type:Boolean,value:!1},aggregationType:{type:String,value:'disabled'},_scaleColorFrom:{type:String},_scaleColorTo:{type:String},loading:{type:Boolean,value:!1,observer:'_loadingChanged'}},ready:function(){this.addEventListener('set-heatmap-data',this._setHeatmapDataEventCallback),this.addEventListener('scale-colors-changed',this._scaleColorsChangedEventCallback)},detached:function(){this.removeEventListener('set-heatmap-data',this._setHeatmapDataEventMethod),this.removeEventListener('scale-colors-changed',this._scaleColorsChangedEventCallback)},_setHeatmapDataEventCallback:function(a){this.setData(a.detail.data)},_scaleColorsChangedEventCallback:function(a){a.stopPropagation(),this.setColors(a.detail.from,a.detail.to)},_scaleChanged:function(a,b){a!==b&&a&&this.set('scale',[this.scaleMin,this.scaleMax])},toggleScale:function(){this.set('hideScale',!this.hideScale)},toggleRowHeader:function(){this.set('hideRowHeader',!this.hideRowHeader)},toggleColHeader:function(){this.set('hideColHeader',!this.hideColHeader)},toggleHeaders:function(){this.toggleColHeader(),this.toggleRowHeader()},toggleValues:function(){this.set('hideValues',!this.hideValues)},setData:function(a){this.set('heatmapData',a)},setRange:function(a,b){this.set('scaleMin',a),this.set('scaleMax',b)},setColors:function(a,b){this.set('_scaleColorFrom',a),this.set('_scaleColorTo',b)},_loadingChanged:function(a,b){var c=this;a!==void 0&&a!==b&&(a?setTimeout(function(){var a=Polymer.dom(c.root).querySelector('px-spinner');a&&(a.finished=!1)}):setTimeout(function(){var a=Polymer.dom(c.root).querySelector('px-spinner');a&&(a.finished=!0)}))}});</script></body></html>