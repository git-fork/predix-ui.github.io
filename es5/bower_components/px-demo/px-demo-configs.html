<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../px-tabs/px-tabs.html"><link rel="import" href="../px-app-helpers/object-assign-polyfill/object-assign-polyfill.html"><link rel="import" href="css/px-demo-styles.html"><link rel="import" href="px-demo-behaviors.html"></head><body><dom-module id="px-demo-configs"><template><style include="px-demo-styles"></style><template is="dom-if" if="_hasConfigs(configs)"><px-tabs selected="{{_selectedTab}}" bare="" no-bottom-border=""><template is="dom-repeat" items="{{_userConfigs}}"><px-tab>{{_findConfigName(item, index)}}</px-tab></template></px-tabs></template></template></dom-module><script>Polymer({is:'px-demo-configs',behaviors:[PxDemoBehaviors.manageProps],properties:{configs:{type:Array,value:function(){return[]}},chosenConfig:{type:Object,notify:!0,value:function(){return{}}},props:{type:Object,notify:!0},_selectedTab:{type:Number,value:0},_userConfigs:{type:Array,value:function(){return[]}}},observers:['_setChosenConfig(_selectedTab, _userConfigs)','_updateProps(chosenConfig)','_createUserConfigs(configs)','_updateUserConfigProps(props.*)'],_createUserConfigs:function(){this.debounce('create-user-configs',function(){for(var a=this.configs,b=0;b<a.length;b++)this.push('_userConfigs',Object.assign({},{},a[b]))},200)},_indexPlusOne:function(a){return a+1},_findConfigName:function(a,b){return a.configName?a.configName:'Option '+this._indexPlusOne(b)},_setChosenConfig:function(a){this.debounce('set-chosen-config',function(){var b=this._userConfigs||[];return'undefined'!==typeof a&&b.length?void(this.set('chosenConfig',{}),this.set('chosenConfig',b[a])):{}},20)},_updateProps:function(a){a&&'object'===('undefined'===typeof a?'undefined':babelHelpers.typeof(a))&&Object.keys(a).length&&this.debounce('update-props',function(){this._updatingProps||(this._updatingProps=!0,a.configReset&&this.applyPropDefaults(!0),this.setProperties?this._setBatch(a):this._setIndividually(a),this._updatingProps=!1)},10)},_setBatch:function(a){for(var b,c=Object.keys(a),d={},e=0;e<c.length;e++)if(b=c[e],'configName'!==b&&'configReset'!==b){var f='props.'+c[e]+'.value',g=a[b];d[f]=g}this.setProperties(d)},_setIndividually:function(a){for(var b,c=Object.keys(a),d=0;d<c.length;d++)if(b=c[d],'configName'!==b&&'configReset'!==b){var e='props.'+c[d]+'.value',f=this.get(e),g=a[b];'undefined'!==typeof f&&f!==g&&this.set(e,g)}},_hasConfigs:function(){return 0<this.configs.length},_updateUserConfigProps:function(a){a&&'object'===('undefined'===typeof a?'undefined':babelHelpers.typeof(a))&&a.path&&-1!==a.path.indexOf('.value')&&this.debounce('update-user-config-props',function(){var b=a.path.replace('props.','').replace('.value',''),c=a.value,d=this.get('_selectedTab'),e='_userConfigs.'+d+'.'+b,f=this.get(e);f!==c&&this.set(e,c)},50)}});</script></body></html>