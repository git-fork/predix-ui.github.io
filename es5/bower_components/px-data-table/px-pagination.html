<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../px-icon-set/px-icon-set.html"><link rel="import" href="../px-icon-set/px-icon.html"><link rel="import" href="../app-localize-behavior/app-localize-behavior.html"><link rel="import" href="../px-dropdown/px-dropdown.html"><link rel="import" href="css/aha-table-styles.html"></head><body><dom-module id="px-pagination"><template><style include="aha-table-styles"></style><div class="paginationContainer"><span class="pagesize u-mr+"><span class="rowsPerPage u-mr--">{{localize('Rows per page')}}</span><px-dropdown id="dropdown" selected="{{pageSize}}" display-value="{{pageSize}}" select-by="val" button-style="bare--primary" items="{{pageSizeOptions}}" disable-clear=""></px-dropdown></span><div><span class="summary"><strong>{{firstItemIndexToDisplay}}-{{lastItemIndexToDisplay}}</strong> <span>{{localize('of')}}</span> <span>{{numberOfItems}}</span> </span><button id="previous" class$="btn {{_getPageupClass(currentPage)}}" on-click="goToPreviousPage"><px-icon icon="px-nav:back"></px-icon></button><template is="dom-repeat" items="{{_pagerButtons(pageCount, currentPage)}}" as="page"><span on-click="_goToPage" class$="{{_getPagerButtonClass(page.val, currentPage)}}">{{page.val}}</span></template><button id="next" class$="btn {{_getPagedownClass(currentPage, pageCount)}}" on-click="goToNextPage"><px-icon icon="px-nav:next"></px-icon></button></div></div></template></dom-module><script>var _Polymer;Polymer((_Polymer={is:'px-pagination',behaviors:[Polymer.AppLocalizeBehavior],listeners:{"selected-changed":'_handleDropdownChange'},properties:{numberOfItems:{type:Number,notify:!0,observer:'_goBackToFirstPage'},pageSize:{type:Number,value:10,notify:!0,observer:'_conditionallyUpdatePageSize'},dataRemote:{type:Boolean,value:!1},pageSizeOptions:{type:Array,value:function(){return[{key:'1',val:'10'},{key:'2',val:'20'},{key:'3',val:'50'},{key:'4',val:'100'}]}},firstItemIndexToDisplay:{type:Number,notify:!0,value:1,observer:'_conditionallyUpdateDisplay'},language:{type:String,value:'en'},useKeyIfMissing:{type:Boolean,value:!0},resources:{type:Object,value:function(){return{en:{of:'of',"Rows per page":'Rows per page'}}}}},ready:function(){this.set('itemoftext','of'),this.set('pagesizetitle','Rows per page')},_goBackToFirstPage:function(){this.goToPageNumber(1)},goToNextPage:function(){this.currentPage<this.pageCount&&(this.dataRemote?this._triggerPageChangeRequest(this.currentPage+1):this.goToPageNumber(this.currentPage+1))},goToPageNumber:function(a){a&&(this.currentPage=a,this.updateDisplay())},goToPreviousPage:function(){1<this.currentPage&&(this.dataRemote?this._triggerPageChangeRequest(this.currentPage-1):this.goToPageNumber(this.currentPage-1))},setPageSize:function(a){this._updatePageSize(a)},updateDisplay:function(){var a=Math.ceil;this.set('pageCount',a(this.numberOfItems/this.pageSize)),this.dataRemote?(this.set('currentPage',a(this.firstItemIndexToDisplay/this.pageSize)),this.currentPage===this.pageCount?this.set('lastItemIndexToDisplay',this.numberOfItems):this.set('lastItemIndexToDisplay',this.currentPage*this.pageSize)):0===this.pageCount?(this.set('firstItemIndexToDisplay',0),this.set('lastItemIndexToDisplay',0)):(this.set('firstItemIndexToDisplay',(this.currentPage-1)*this.pageSize+1),this.currentPage===this.pageCount?this.set('lastItemIndexToDisplay',this.numberOfItems):this.set('lastItemIndexToDisplay',this.currentPage*this.pageSize))}},babelHelpers.defineProperty(_Polymer,'_goBackToFirstPage',function(){this.dataRemote?this.updateDisplay():this.goToPageNumber(1)}),babelHelpers.defineProperty(_Polymer,'_conditionallyUpdateDisplay',function(){this.dataRemote&&this.updateDisplay()}),babelHelpers.defineProperty(_Polymer,'_conditionallyUpdatePageSize',function(a){this.dataRemote&&this._updatePageSize(parseInt(a,10))}),babelHelpers.defineProperty(_Polymer,'_triggerPageChangeRequest',function(a){this.fire('px-page-change-intent',a)}),babelHelpers.defineProperty(_Polymer,'_triggerPageSizeChangeRequest',function(a){this.fire('px-page-size-change-intent',a)}),babelHelpers.defineProperty(_Polymer,'_getPageupClass',function(a){return[1===a?'btn--disabled':'','btn--bare'].join(' ')}),babelHelpers.defineProperty(_Polymer,'_getPagedownClass',function(a,b){return[0>=b||a===b?'btn--disabled':'','btn--bare'].join(' ')}),babelHelpers.defineProperty(_Polymer,'_getPagerButtonClass',function(a,b){var c=['btn'];return a===b?c.push('btn--tertiary u-ml'):c.push('btn--bare'),c.join(' ')}),babelHelpers.defineProperty(_Polymer,'_pagerButtons',function(){if(this.pageCount){var a,b=0,c=[];if(9>=this.pageCount)b=this.pageCount,c=Array.apply(null,Array(b)).map(function(a,b){return{val:b+1}});else if(this.pageCount<=this.currentPage+3)for(c.push({val:1}),c.push({val:'...'}),a=this.pageCount-6;a<=this.pageCount;a++)c.push({val:a});else if(5>=this.currentPage)c=Array.apply(null,Array(7)).map(function(a,b){return{val:b+1}}),c.push({val:'...'}),c.push({val:this.pageCount});else{for(c.push({val:1}),c.push({val:'...'}),a=this.currentPage-3;a<this.currentPage+2;a++)c.push({val:a});c.push({val:'...'}),c.push({val:this.pageCount})}return c}}),babelHelpers.defineProperty(_Polymer,'_updatePageSize',function(a){this.set('pageSize',a),this.dataRemote?this.updateDisplay():this._goBackToFirstPage()}),babelHelpers.defineProperty(_Polymer,'_handleDropdownChange',function(a){this._triggerPageSizeChangeRequest(a.target.value||a.target.selected)}),babelHelpers.defineProperty(_Polymer,'_goToPage',function(a){this.dataRemote?this._triggerPageChangeRequest(parseInt(a.target.textContent)):this.goToPageNumber(parseInt(a.target.textContent))}),_Polymer));</script></body></html>